#!/bin/bash

# install more initial needed packages
yay -Syu --needed --noconfirm \
acpi \
age \
alacritty \
atool \
autorandr \
barrier \
bash-completion \
bluez \
bluez-utils \
btrfs-progs \
colordiff \
cups \
direnv \
discord \
dmenu2 \
docker \
docker-buildx \
docker-compose \
efibootmgr \
exiv2 \
flux-bin \
galculator \
gimp \
git \
github-cli \
gnome-keyring \
go \
google-chrome \
google-cloud-cli \
google-cloud-cli-gke-gcloud-auth-plugin \
go-task-bin \
helm \
highlight \
hplip \
htop \
i3blocks \
i3blocks-contrib-git \
i3-gaps \
i3lock \
i3status \
inetutils \
intel-ucode \
jq \
k9s \
kind-bin \
kubectl \
lens-bin \
linux \
linux-firmware \
mediainfo \
neovim \
net-tools \
networkmanager \
network-manager-applet \
networkmanager-openvpn \
nfs-utils \
nodejs \
npm \
nvm \
obs-studio \
openssh \
openvpn \
otf-font-awesome \
otf-inconsolata-dz-powerline \
pavucontrol-qt \
perl-image-exiftool \
postman-bin \
prettier \
pulseaudio-alsa \
pulseaudio-bluetooth \
python-pdftotext \
python-pre-commit \
ranger \
scrot \
seahorse \
sops \
spaceship-prompt \
sysstat \
talhelper-bin \
talosctl \
terraform \
terraform-docs-bin \
tflint-bin \
tfsec-bin \
tig \
tree \
ttf-dejavu \
ttf-inconsolata-go-nerd \
unrar \
unzip \
vim \
visual-studio-code-bin \
w3m \
wget \
wireless_tools \
x11-ssh-askpass \
xbindkeys \
xf86-video-intel \
xorg-server \
xorg-xev \
xorg-xinit \
xorg-xrandr \
yamllint \
yq \
zsh \
zsh-completions

# SYMLINKS

# map secrets
ln -rs ../.secrets/aws ~/.aws
ln -rs ../.secrets/gcloud ~/.config/gcloud
ln -rs ../.secrets/kube ~/.kube
ln -rs ../.secrets/sops ~/.config/sops
ln -rs ../.secrets/ssh ~/.ssh

# map config

mkdir -p ~/.config
ln -rs pacman ~/.config/

mkdir -p ~/.config/pulse
ln -rs pulse/default.pa ~/.config/pulse/default.pa

ln -rs i3 ~/.config/
ln -rs i3blocks ~/.config/

ln -rs autorandr ~/.config/

ln -rs alacritty ~/.config/

mkdir -p ~/.docker
ln -rs docker/config.json ~/.docker/config.json

ranger --copy-config=all
rm ~/.config/ranger/rc.conf
rm ~/.config/ranger/scope.sh
rm ~/.config/ranger/commands.py
ln -rs ranger/rc.conf ~/.config/ranger/rc.conf
ln -rs ranger/scope.sh ~/.config/ranger/scope.sh
ln -rs ranger/commands.py ~/.config/ranger/commands.py

mkdir -p ~/.config/nvim
ln -rs nvim/init.vim ~/.config/nvim
ln -rs nvim/init.vim ~/.vimrc

ln -rs npmrc ~/.npmrc
ln -rs xbindkeysrc ~/.xbindkeysrc
ln -rs xinitrc ~/.xinitrc

# Include Bash
#rm ~/.bashrc
#ln -rs .bash_profile ~/.bash_profile
#ln -rs .profile ~/.profile
#ln -rs .bashrc ~/.bashrc

# Include ZSH
ln -rs zsh/.zshenv ~/
ln -rs zsh/.zshrc ~/

sudo ln -s /usr/bin/go-task /usr/bin/task

# GIT
ln -rs gitconfig/gitignore-global ~/.gitignore
ln -rs gitconfig/git_templates ~/.git_templates
ln -rs gitconfig/gitconfig_base ~/.gitconfig
mkdir -p ~/projects/strg
ln -rs gitconfig/gitconfig_strg ~/projects/strg/.gitconfig

# INSTALLATION
# install plug.vim and create dirs
curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
